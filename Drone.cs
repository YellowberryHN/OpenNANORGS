using SadConsole;
using SadRogue.Primitives;

namespace OpenNANORGS
{
    internal class Drone : Bot
    {
        private static ColoredGlyph _hibernation = new(Color.Red, Color.Transparent, ',');
        private static ColoredGlyph _active;
        
        private static ushort[] _malicious = new ushort[]
        {
            0x8004, 0x000F, 0x0000,
            0x8004, 0x0018, 0x0000,
            0x8004, 0x002A, 0x0000,
            0x8004, 0x0045, 0x0000,
            0x8006, 0xFFF7, 0x0000,
            0x2020, 0x0DFB, 0x0004,
            0x2020, 0x0DFC, 0x000A,
            0x200F, 0x0DFC, 0x0001,
            0x0005, 0x0000, 0x0000,
            0x401E, 0x0002, 0x0000,
            0x800E, 0x000F, 0x0000,
            0x401A, 0x0002, 0x0000,
            0x6017, 0x0002, 0x2710,
            0x8009, 0x0006, 0x0000,
            0x001F, 0x0000, 0x0000,
            0x0005, 0x0000, 0x0000,
            0x4001, 0x0000, 0x0DFB,
            0x6020, 0x0001, 0x0DF8,
            0x5024, 0x0000, 0x0001,
            0x800E, 0x0012, 0x0000,
            0x7017, 0x0000, 0x1000,
            0x800B, 0x000C, 0x0000,
            0x6020, 0x0001, 0x0E10,
            0x7001, 0x0000, 0x1000,
            0x1023, 0x0DFB, 0x0001,
            0x0005, 0x0000, 0x0000,
            0x2017, 0x0DFC, 0x0000,
            0x800B, 0x000F, 0x0000,
            0x001B, 0x0DFB, 0x0000,
            0x800E, 0x0009, 0x0000,
            0x2010, 0x0DFC, 0x0001,
            0x0005, 0x0000, 0x0000,
            0x8004, 0xFFAF, 0x0000,
            0x8006, 0xFFEB, 0x0000
        };
        
        public Drone(Point position, Tank tank) : base('@', position, tank)
        {
            Glyph = new ColoredGlyph(Color.HotPink, Color.Transparent, Name);
            _active = Glyph;
            CPU = new CPU(this, _malicious);
        }

        public override void Mutate()
        {
            // drones are resistant to mutation, do nothing
        }
    }
}